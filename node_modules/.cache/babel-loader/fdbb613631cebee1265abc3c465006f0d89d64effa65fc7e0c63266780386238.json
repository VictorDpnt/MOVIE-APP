{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{motion,AnimatePresence}from\"framer-motion\";import axios from\"axios\";import{NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const images=[{src:\"./img/interstelar.jpeg\",text:\"Première image\"},{src:\"./img/avatarbg.jpeg\",text:\"Deuxième image\"},{src:\"./img/dune.jpeg\",text:\"Troisième image\"},{src:\"./img/onepiece.jpeg\",text:\"Troisième image\"},{src:\"./img/onepiece.jpeg\",text:\"Troisième image\"},{src:\"./img/onepiece.jpeg\",text:\"Troisième image\"},{src:\"./img/onepiece.jpeg\",text:\"Troisième image\"},{src:\"./img/onepiece.jpeg\",text:\"Troisième image\"},{src:\"./img/onepiece.jpeg\",text:\"Troisième image\"},{src:\"./img/onepiece.jpeg\",text:\"Troisième image\"}];const Caroussel=()=>{const[currentSlide,setCurrentSlide]=useState(0);const[data,setData]=useState([]);useEffect(()=>{axios.get(\"https://api.themoviedb.org/3/movie/now_playing?api_key=864b6602f4018630491e67fa714381e6&language=fr-FR\").then(res=>setData(res.data.results));},[]);useEffect(()=>{const interval=setInterval(handleNext,5000);return()=>clearInterval(interval);},[]);const handlePrev=()=>{setCurrentSlide(prevSlide=>prevSlide===0?images.length-1:prevSlide-1);};const handleNext=()=>{setCurrentSlide(prevSlide=>prevSlide===images.length-1?0:prevSlide+1);};const genreFinder=genre=>{switch(genre){case 28:genre=\"action\";break;case 12:genre=\"Aventure\";break;case 16:genre=\"Animation\";break;case 35:genre=\"Comédie\";break;case 80:genre=\"Policier\";break;case 99:genre=\"Documentaire\";break;case 18:genre=\"Drame\";break;case 10751:genre=\"Famille\";break;case 14:genre=\"Fantasy\";break;case 36:genre=\"Historique\";break;case 27:genre=\"Horreur\";break;case 10402:genre=\"Music\";break;case 9648:genre=\"Mystère\";break;case 10749:genre=\"Romance\";break;case 878:genre=\"Science-Fiction\";break;case 10770:genre=\"TV Show\";break;case 53:genre=\"Thriller\";break;case 10752:genre=\"Guerre \";break;case 37:genre=\"Western\";break;default:break;}return genre;};return/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-container\",children:[/*#__PURE__*/_jsx(AnimatePresence,{children:data.filter(movie=>{if(movie.original_language===\"en\"||movie.original_language===\"fr\"||movie.original_language===\"jp\"||movie.original_language===\"ko\"){return movie;}else{return null;}}).map((movie,index)=>index===currentSlide&&/*#__PURE__*/_jsx(NavLink,{to:\"/\".concat(movie.id),children:/*#__PURE__*/_jsxs(motion.div,{className:\"slide\",initial:{opacity:0,x:\"100%\"},animate:{opacity:1,x:0},exit:{opacity:0,x:\"-100%\"},transition:{duration:0.5},children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/original\"+movie.backdrop_path,alt:movie.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"infos-carousel\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title-carousel\",children:movie.title}),/*#__PURE__*/_jsx(\"div\",{className:\"genre-container\",children:movie.genre_ids.map(genre=>/*#__PURE__*/_jsx(\"p\",{className:\"genre\",children:genreFinder(genre)}))}),/*#__PURE__*/_jsx(NavLink,{to:\"/\".concat(movie.id),children:/*#__PURE__*/_jsx(\"h3\",{className:\"more-infos\",children:\"Plus d'infos\"})})]})]},index)}))}),/*#__PURE__*/_jsx(\"div\",{className:\"indicators\",children:images.map((_,index)=>/*#__PURE__*/_jsx(\"span\",{className:index===currentSlide?\"indicator active\":\"indicator\",onClick:()=>setCurrentSlide(index)},index))}),/*#__PURE__*/_jsx(\"button\",{className:\"prev\",onClick:handlePrev,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-angle-left\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"next\",onClick:handleNext,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-angle-right\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"gradient-overlay\"})]});};export default Caroussel;","map":{"version":3,"names":["React","useEffect","useState","motion","AnimatePresence","axios","NavLink","jsx","_jsx","jsxs","_jsxs","images","src","text","Caroussel","currentSlide","setCurrentSlide","data","setData","get","then","res","results","interval","setInterval","handleNext","clearInterval","handlePrev","prevSlide","length","genreFinder","genre","className","children","filter","movie","original_language","map","index","to","concat","id","div","initial","opacity","x","animate","exit","transition","duration","backdrop_path","alt","title","genre_ids","_","onClick"],"sources":["/Users/victor/Documents/GitHub/MOVIE-APP/src/components/Caroussel.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport axios from \"axios\";\nimport { NavLink } from \"react-router-dom\";\n\nconst images = [\n  {\n    src: \"./img/interstelar.jpeg\",\n    text: \"Première image\",\n  },\n  {\n    src: \"./img/avatarbg.jpeg\",\n    text: \"Deuxième image\",\n  },\n  {\n    src: \"./img/dune.jpeg\",\n    text: \"Troisième image\",\n  },\n  {\n    src: \"./img/onepiece.jpeg\",\n    text: \"Troisième image\",\n  },\n  {\n    src: \"./img/onepiece.jpeg\",\n    text: \"Troisième image\",\n  },\n  {\n    src: \"./img/onepiece.jpeg\",\n    text: \"Troisième image\",\n  },\n  {\n    src: \"./img/onepiece.jpeg\",\n    text: \"Troisième image\",\n  },\n  {\n    src: \"./img/onepiece.jpeg\",\n    text: \"Troisième image\",\n  },\n  {\n    src: \"./img/onepiece.jpeg\",\n    text: \"Troisième image\",\n  },\n  {\n    src: \"./img/onepiece.jpeg\",\n    text: \"Troisième image\",\n  },\n];\n\nconst Caroussel = () => {\n  const [currentSlide, setCurrentSlide] = useState(0);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(\n        \"https://api.themoviedb.org/3/movie/now_playing?api_key=864b6602f4018630491e67fa714381e6&language=fr-FR\"\n      )\n      .then((res) => setData(res.data.results));\n  }, []);\n\n  useEffect(() => {\n    const interval = setInterval(handleNext, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const handlePrev = () => {\n    setCurrentSlide((prevSlide) =>\n      prevSlide === 0 ? images.length - 1 : prevSlide - 1\n    );\n  };\n\n  const handleNext = () => {\n    setCurrentSlide((prevSlide) =>\n      prevSlide === images.length - 1 ? 0 : prevSlide + 1\n    );\n  };\n\n  const genreFinder = (genre) => {\n    switch (genre) {\n      case 28:\n        genre = \"action\";\n        break;\n      case 12:\n        genre = \"Aventure\";\n        break;\n      case 16:\n        genre = \"Animation\";\n        break;\n      case 35:\n        genre = \"Comédie\";\n        break;\n      case 80:\n        genre = \"Policier\";\n        break;\n      case 99:\n        genre = \"Documentaire\";\n        break;\n      case 18:\n        genre = \"Drame\";\n        break;\n      case 10751:\n        genre = \"Famille\";\n        break;\n      case 14:\n        genre = \"Fantasy\";\n        break;\n      case 36:\n        genre = \"Historique\";\n        break;\n      case 27:\n        genre = \"Horreur\";\n        break;\n      case 10402:\n        genre = \"Music\";\n        break;\n      case 9648:\n        genre = \"Mystère\";\n        break;\n      case 10749:\n        genre = \"Romance\";\n        break;\n      case 878:\n        genre = \"Science-Fiction\";\n        break;\n      case 10770:\n        genre = \"TV Show\";\n        break;\n      case 53:\n        genre = \"Thriller\";\n        break;\n      case 10752:\n        genre = \"Guerre \";\n        break;\n      case 37:\n        genre = \"Western\";\n        break;\n      default:\n        break;\n    }\n    return genre;\n  };\n\n  return (\n    <div className=\"carousel-container\">\n      <AnimatePresence>\n        {data\n          .filter((movie) => {\n            if (\n              movie.original_language === \"en\" ||\n              movie.original_language === \"fr\" ||\n              movie.original_language === \"jp\" ||\n              movie.original_language === \"ko\"\n            ) {\n              return movie;\n            } else {\n              return null;\n            }\n          })\n          .map(\n            (movie, index) =>\n              index === currentSlide && (\n                <NavLink to={`/${movie.id}`}>\n                  <motion.div\n                    key={index}\n                    className=\"slide\"\n                    initial={{ opacity: 0, x: \"100%\" }}\n                    animate={{ opacity: 1, x: 0 }}\n                    exit={{ opacity: 0, x: \"-100%\" }}\n                    transition={{ duration: 0.5 }}\n                  >\n                    <img\n                      src={\n                        \"https://image.tmdb.org/t/p/original\" +\n                        movie.backdrop_path\n                      }\n                      alt={movie.title}\n                    />\n\n                    <div className=\"infos-carousel\">\n                      <h1 className=\"title-carousel\">{movie.title}</h1>\n                      <div className=\"genre-container\">\n                        {movie.genre_ids.map((genre) => (\n                          <p className=\"genre\">{genreFinder(genre)}</p>\n                        ))}\n                      </div>\n                      <NavLink to={`/${movie.id}`}>\n                        <h3 className=\"more-infos\">Plus d'infos</h3>\n                      </NavLink>\n                    </div>\n                  </motion.div>\n                </NavLink>\n              )\n          )}\n      </AnimatePresence>\n      <div className=\"indicators\">\n        {images.map((_, index) => (\n          <span\n            key={index}\n            className={\n              index === currentSlide ? \"indicator active\" : \"indicator\"\n            }\n            onClick={() => setCurrentSlide(index)}\n          ></span>\n        ))}\n      </div>\n      <button className=\"prev\" onClick={handlePrev}>\n        <i className=\"fa-solid fa-angle-left\"></i>\n      </button>\n      <button className=\"next\" onClick={handleNext}>\n        <i className=\"fa-solid fa-angle-right\"></i>\n      </button>\n      <div className=\"gradient-overlay\"></div>\n    </div>\n  );\n};\n\nexport default Caroussel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}