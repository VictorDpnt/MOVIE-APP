{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import Navbar from\"../../components/Navbar\";import axios from\"axios\";import Cards from\"../../components/Cards\";import{NavLink}from\"react-router-dom\";import InfiniteScroll from\"react-infinite-scroll-component\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Films=()=>{const[data,setData]=useState([]);const[pageNumber,setPageNumber]=useState(1);useEffect(()=>{axios.get(\"https://api.themoviedb.org/3/movie/popular?api_key=864b6602f4018630491e67fa714381e6&page=\".concat(pageNumber,\"&language=fr-FR\")).then(res=>setData(res.data.results));},[]);const fetchData=()=>{setPageNumber(pageNumber+1);axios.get(\"https://api.themoviedb.org/3/movie/popular?api_key=864b6602f4018630491e67fa714381e6&page=\".concat(pageNumber,\"&language=fr-FR\")).then(res=>setData(data.concat(res.data.results)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"top-rated\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"popular-container pop\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title-page\",children:\"Films les plus populaires\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cards-container\",children:[data.filter((item,index)=>{return index===data.findIndex(item2=>item2.id===item.id);}).map(movie=>/*#__PURE__*/_jsx(NavLink,{to:\"/\".concat(movie.id),children:/*#__PURE__*/_jsx(Cards,{movie:movie},movie.id)})),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:data.length,next:fetchData,hasMore:true,loader:/*#__PURE__*/_jsx(\"h4\",{children:\"Loading...\"})})]})]})]});};export default Films;","map":{"version":3,"names":["React","useEffect","useState","Navbar","axios","Cards","NavLink","InfiniteScroll","jsx","_jsx","jsxs","_jsxs","Films","data","setData","pageNumber","setPageNumber","get","concat","then","res","results","fetchData","className","children","filter","item","index","findIndex","item2","id","map","movie","to","dataLength","length","next","hasMore","loader"],"sources":["/Users/victor/Documents/GitHub/MOVIE-APP/src/pages/Movies/Avenir.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Navbar from \"../../components/Navbar\";\nimport axios from \"axios\";\nimport Cards from \"../../components/Cards\";\nimport { NavLink } from \"react-router-dom\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nconst Films = () => {\n  const [data, setData] = useState([]);\n\n  const [pageNumber, setPageNumber] = useState(1);\n\n  useEffect(() => {\n    axios\n      .get(\n        `https://api.themoviedb.org/3/movie/popular?api_key=864b6602f4018630491e67fa714381e6&page=${pageNumber}&language=fr-FR`\n      )\n      .then((res) => setData(res.data.results));\n  }, []);\n\n  const fetchData = () => {\n    setPageNumber(pageNumber + 1);\n\n    axios\n      .get(\n        `https://api.themoviedb.org/3/movie/popular?api_key=864b6602f4018630491e67fa714381e6&page=${pageNumber}&language=fr-FR`\n      )\n      .then((res) => setData(data.concat(res.data.results)));\n  };\n  return (\n    <div className=\"top-rated\">\n      <Navbar />\n      <div className=\"popular-container pop\">\n        <h2 className=\"title-page\">Films les plus populaires</h2>\n        <div className=\"cards-container\">\n          {data\n            .filter((item, index) => {\n              return index === data.findIndex((item2) => item2.id === item.id);\n            })\n            .map((movie) => (\n              <NavLink to={`/${movie.id}`}>\n                <Cards key={movie.id} movie={movie} />\n              </NavLink>\n            ))}\n          <InfiniteScroll\n            dataLength={data.length}\n            next={fetchData}\n            hasMore={true}\n            loader={<h4>Loading...</h4>}\n          ></InfiniteScroll>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Films;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,wBAAwB,CAC1C,OAASC,OAAO,KAAQ,kBAAkB,CAC1C,MAAO,CAAAC,cAAc,KAAM,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7D,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEpC,KAAM,CAACa,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CAE/CD,SAAS,CAAC,IAAM,CACdG,KAAK,CACFa,GAAG,6FAAAC,MAAA,CAC0FH,UAAU,mBACxG,CAAC,CACAI,IAAI,CAAEC,GAAG,EAAKN,OAAO,CAACM,GAAG,CAACP,IAAI,CAACQ,OAAO,CAAC,CAAC,CAC7C,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtBN,aAAa,CAACD,UAAU,CAAG,CAAC,CAAC,CAE7BX,KAAK,CACFa,GAAG,6FAAAC,MAAA,CAC0FH,UAAU,mBACxG,CAAC,CACAI,IAAI,CAAEC,GAAG,EAAKN,OAAO,CAACD,IAAI,CAACK,MAAM,CAACE,GAAG,CAACP,IAAI,CAACQ,OAAO,CAAC,CAAC,CAAC,CAC1D,CAAC,CACD,mBACEV,KAAA,QAAKY,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBf,IAAA,CAACN,MAAM,GAAE,CAAC,cACVQ,KAAA,QAAKY,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpCf,IAAA,OAAIc,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,2BAAyB,CAAI,CAAC,cACzDb,KAAA,QAAKY,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAC7BX,IAAI,CACFY,MAAM,CAAC,CAACC,IAAI,CAAEC,KAAK,GAAK,CACvB,MAAO,CAAAA,KAAK,GAAKd,IAAI,CAACe,SAAS,CAAEC,KAAK,EAAKA,KAAK,CAACC,EAAE,GAAKJ,IAAI,CAACI,EAAE,CAAC,CAClE,CAAC,CAAC,CACDC,GAAG,CAAEC,KAAK,eACTvB,IAAA,CAACH,OAAO,EAAC2B,EAAE,KAAAf,MAAA,CAAMc,KAAK,CAACF,EAAE,CAAG,CAAAN,QAAA,cAC1Bf,IAAA,CAACJ,KAAK,EAAgB2B,KAAK,CAAEA,KAAM,EAAvBA,KAAK,CAACF,EAAmB,CAAC,CAC/B,CACV,CAAC,cACJrB,IAAA,CAACF,cAAc,EACb2B,UAAU,CAAErB,IAAI,CAACsB,MAAO,CACxBC,IAAI,CAAEd,SAAU,CAChBe,OAAO,CAAE,IAAK,CACdC,MAAM,cAAE7B,IAAA,OAAAe,QAAA,CAAI,YAAU,CAAI,CAAE,CACb,CAAC,EACf,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAZ,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}