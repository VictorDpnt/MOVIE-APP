{"ast":null,"code":"import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Providers=_ref=>{let{movieId,movieTitle}=_ref;const[data,setData]=useState([]);const[countryChoice,setCountryChoice]=useState(\"FR\");useEffect(()=>{axios.get(\"https://api.themoviedb.org/3/movie/\".concat(movieId&&movieId,\"/watch/providers?api_key=864b6602f4018630491e67fa714381e6&language=fr-FR\")).then(res=>setData(res.data.results[countryChoice]));},[countryChoice,movieId]);const handleChange=event=>{setCountryChoice(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"providers-containt\",children:[data?/*#__PURE__*/_jsxs(\"div\",{className:\"provider\",children:[data.flatrate&&/*#__PURE__*/_jsx(\"h3\",{className:\"type\",children:\"En streaming avec abonnement\"}),data.flatrate&&data.flatrate.map((provider,index)=>/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/original\"+provider.logo_path,alt:\"\"},index))]}):null,data?/*#__PURE__*/_jsxs(\"div\",{className:\"provider\",children:[data.rent&&/*#__PURE__*/_jsx(\"h3\",{className:\"type\",children:\"\\xC0 la location\"}),data.rent&&data.rent.map((provider,index)=>/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/original\"+provider.logo_path,alt:\"\"},index))]}):null,data?/*#__PURE__*/_jsxs(\"div\",{className:\"provider\",children:[data.buy&&/*#__PURE__*/_jsx(\"h3\",{className:\"type\",children:\"\\xC0 l'achat\"}),data.buy&&data.buy.map((provider,index)=>/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/original\"+provider.logo_path,alt:\"\"},index))]}):null,/*#__PURE__*/_jsxs(\"select\",{className:\"select-country\",value:countryChoice,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"FR\",children:\" France \"}),/*#__PURE__*/_jsx(\"option\",{value:\"US\",onChange:()=>setCountryChoice(\"US\"),children:\"\\xC9tats-Unis\"}),/*#__PURE__*/_jsx(\"option\",{value:\"GB\",children:\" Royaume-Uni \"}),/*#__PURE__*/_jsx(\"option\",{value:\"BE\",children:\" Belgique \"}),/*#__PURE__*/_jsx(\"option\",{value:\"ES\",children:\" Espagne \"}),/*#__PURE__*/_jsx(\"option\",{value:\"IT\",children:\" Italie \"}),/*#__PURE__*/_jsx(\"option\",{value:\"AU\",children:\" Australie \"}),/*#__PURE__*/_jsx(\"option\",{value:\"PT\",children:\" Portugal \"})]}),!data&&/*#__PURE__*/_jsxs(\"h4\",{children:[\"Il n'y a actuellement aucune offre pour \",movieTitle,\". \"]})]});};export default Providers;","map":{"version":3,"names":["axios","React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Providers","_ref","movieId","movieTitle","data","setData","countryChoice","setCountryChoice","get","concat","then","res","results","handleChange","event","target","value","className","children","flatrate","map","provider","index","src","logo_path","alt","rent","buy","onChange"],"sources":["/Users/victor/Documents/GitHub/MOVIE-APP/src/components/Providers.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\n\nconst Providers = ({ movieId, movieTitle }) => {\n  const [data, setData] = useState([]);\n  const [countryChoice, setCountryChoice] = useState(\"FR\");\n\n  useEffect(() => {\n    axios\n      .get(\n        `https://api.themoviedb.org/3/movie/${\n          movieId && movieId\n        }/watch/providers?api_key=864b6602f4018630491e67fa714381e6&language=fr-FR`\n      )\n      .then((res) => setData(res.data.results[countryChoice]));\n  }, [countryChoice, movieId]);\n\n  const handleChange = (event) => {\n    setCountryChoice(event.target.value);\n  };\n\n  return (\n    <div className=\"providers-containt\">\n      {data ? (\n        <div className=\"provider\">\n          {data.flatrate && (\n            <h3 className=\"type\">En streaming avec abonnement</h3>\n          )}\n          {data.flatrate &&\n            data.flatrate.map((provider, index) => (\n              <img\n                src={\"https://image.tmdb.org/t/p/original\" + provider.logo_path}\n                alt=\"\"\n                key={index}\n              />\n            ))}\n        </div>\n      ) : null}\n\n      {data ? (\n        <div className=\"provider\">\n          {data.rent && <h3 className=\"type\">À la location</h3>}\n          {data.rent &&\n            data.rent.map((provider, index) => (\n              <img\n                src={\"https://image.tmdb.org/t/p/original\" + provider.logo_path}\n                alt=\"\"\n                key={index}\n              />\n            ))}\n        </div>\n      ) : null}\n      {data ? (\n        <div className=\"provider\">\n          {data.buy && <h3 className=\"type\">À l'achat</h3>}\n          {data.buy &&\n            data.buy.map((provider, index) => (\n              <img\n                src={\"https://image.tmdb.org/t/p/original\" + provider.logo_path}\n                alt=\"\"\n                key={index}\n              />\n            ))}\n        </div>\n      ) : null}\n\n      <select\n        className=\"select-country\"\n        value={countryChoice}\n        onChange={handleChange}\n      >\n        <option value=\"FR\"> France </option>\n        <option value=\"US\" onChange={() => setCountryChoice(\"US\")}>\n          États-Unis\n        </option>\n        <option value=\"GB\"> Royaume-Uni </option>\n        <option value=\"BE\"> Belgique </option>\n        <option value=\"ES\"> Espagne </option>\n        <option value=\"IT\"> Italie </option>\n        <option value=\"AU\"> Australie </option>\n        <option value=\"PT\"> Portugal </option>\n      </select>\n\n      {!data && <h4>Il n'y a actuellement aucune offre pour {movieTitle}. </h4>}\n    </div>\n  );\n};\n\nexport default Providers;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}