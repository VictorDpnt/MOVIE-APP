{"ast":null,"code":"import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SearchWindow=_ref=>{let{inputSearch}=_ref;const[data,setData]=useState([]);const mediaGenre=genre=>{let genreMedia=\"\";if(genre===\"tv\"){genreMedia=\"Série\";}else if(genre===\"movie\"){genreMedia=\"Film\";}else{genreMedia=\"Acteur\";}return genreMedia;};function formatDate(dateString){const date=new Date(dateString);const day=date.getDate().toString().padStart(2,\"0\");const month=(date.getMonth()+1).toString().padStart(2,\"0\");const year=date.getFullYear().toString().slice(-2);return\"\".concat(day,\"-\").concat(month,\"-\").concat(year);}useEffect(()=>{axios.get(\"https://api.themoviedb.org/3/search/multi?api_key=864b6602f4018630491e67fa714381e6&query=\".concat(inputSearch,\"&page=1&language=fr-FR\")).then(res=>setData(res.data.results));},[data,inputSearch]);return/*#__PURE__*/_jsx(\"div\",{className:\"window-containt\",children:data.sort((a,b)=>b.popularity-a.popularity).map((movie,index)=>/*#__PURE__*/_jsx(NavLink,{to:movie.media_type===\"movie\"?\"/\".concat(movie.id):movie.media_type===\"tv\"?\"/SeriesPopulaires/\".concat(movie.id):\"/ActeursPopulaires/\".concat(movie.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"results\",children:[/*#__PURE__*/_jsx(\"li\",{children:movie.media_type===\"movie\"?movie.title:movie.media_type===\"tv\"?movie.name:movie.original_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-search\",children:[/*#__PURE__*/_jsx(\"p\",{children:mediaGenre(movie.media_type)}),movie.release_date?/*#__PURE__*/_jsx(\"p\",{className:\"date\",children:formatDate(movie.release_date)}):movie.first_air_date?/*#__PURE__*/_jsx(\"p\",{className:\"date\",children:formatDate(movie.first_air_date)}):null]})]},index)}))});};export default SearchWindow;","map":{"version":3,"names":["axios","React","useEffect","useState","NavLink","jsx","_jsx","jsxs","_jsxs","SearchWindow","_ref","inputSearch","data","setData","mediaGenre","genre","genreMedia","formatDate","dateString","date","Date","day","getDate","toString","padStart","month","getMonth","year","getFullYear","slice","concat","get","then","res","results","className","children","sort","a","b","popularity","map","movie","index","to","media_type","id","title","name","original_name","release_date","first_air_date"],"sources":["/Users/victor/Documents/GitHub/MOVIE-APP/src/components/SearchWindow.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst SearchWindow = ({ inputSearch }) => {\n  const [data, setData] = useState([]);\n\n  const mediaGenre = (genre) => {\n    let genreMedia = \"\";\n    if (genre === \"tv\") {\n      genreMedia = \"Série\";\n    } else if (genre === \"movie\") {\n      genreMedia = \"Film\";\n    } else {\n      genreMedia = \"Acteur\";\n    }\n    return genreMedia;\n  };\n\n  function formatDate(dateString) {\n    const date = new Date(dateString);\n    const day = date.getDate().toString().padStart(2, \"0\");\n    const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n    const year = date.getFullYear().toString().slice(-2);\n\n    return `${day}-${month}-${year}`;\n  }\n\n  useEffect(() => {\n    axios\n      .get(\n        `https://api.themoviedb.org/3/search/multi?api_key=864b6602f4018630491e67fa714381e6&query=${inputSearch}&page=1&language=fr-FR`\n      )\n      .then((res) => setData(res.data.results));\n  }, [data, inputSearch]);\n\n  return (\n    <div className=\"window-containt\">\n      {data\n        .sort((a, b) => b.popularity - a.popularity)\n        .map((movie, index) => (\n          <NavLink\n            to={\n              movie.media_type === \"movie\"\n                ? `/${movie.id}`\n                : movie.media_type === \"tv\"\n                ? `/SeriesPopulaires/${movie.id}`\n                : `/ActeursPopulaires/${movie.id}`\n            }\n          >\n            <div key={index} className=\"results\">\n              <li>\n                {movie.media_type === \"movie\"\n                  ? movie.title\n                  : movie.media_type === \"tv\"\n                  ? movie.name\n                  : movie.original_name}\n              </li>\n\n              <div className=\"details-search\">\n                <p>{mediaGenre(movie.media_type)}</p>\n                {movie.release_date ? (\n                  <p className=\"date\">{formatDate(movie.release_date)}</p>\n                ) : movie.first_air_date ? (\n                  <p className=\"date\">{formatDate(movie.first_air_date)}</p>\n                ) : null}\n              </div>\n            </div>\n          </NavLink>\n        ))}\n    </div>\n  );\n};\n\nexport default SearchWindow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}